(this["webpackJsonpstream-graph-overlay"]=this["webpackJsonpstream-graph-overlay"]||[]).push([[0],{82:function(e,t,c){},83:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(29),l=c.n(r),i=(c(82),c(15)),o=c(10),s=(c(83),c(43)),j=c(145),d=c(150),u=c(149),b=c(148),h=c(143),O=c(146),x=c(147),m=c(142),p=c(141),f=c(2);function g(){var e=[],t=Object(a.useState)(e),c=Object(o.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)(""),g=Object(o.a)(l,2),v=g[0],C=g[1],k=Object(a.useState)("#00ff00"),N=Object(o.a)(k,2),y=N[0],S=N[1],w=Object(a.useState)(!1),T=Object(o.a)(w,2),_=T[0],B=T[1],I=Object(a.useState)("#ff0000"),P=Object(o.a)(I,2),A=P[0],L=P[1],F=Object(a.useState)(!1),W=Object(o.a)(F,2),z=W[0],H=W[1],R=Object(a.useState)("#000000"),D=Object(o.a)(R,2),E=D[0],J=D[1],M=Object(a.useState)(!1),U=Object(o.a)(M,2),V=U[0],q=U[1],G=Object(a.useState)("#ffffff"),K=Object(o.a)(G,2),Q=K[0],X=K[1],Y=Object(a.useState)(!1),Z=Object(o.a)(Y,2),$=Z[0],ee=Z[1],te=Object(a.useState)(!1),ce=Object(o.a)(te,2),ae=ce[0],ne=ce[1],re=Object(a.useState)(!1),le=Object(o.a)(re,2),ie=le[0],oe=le[1],se=Object(a.useState)(!1),je=Object(o.a)(se,2),de=je[0],ue=je[1],be=Object(a.useState)(90),he=Object(o.a)(be,2),Oe=he[0],xe=he[1],me=Object(a.useState)(!1),pe=Object(o.a)(me,2),fe=pe[0],ge=pe[1],ve=function(e,t){n[e]?r([].concat(Object(i.a)(n.slice(0,e)),[Object.assign({},n[e],t)],Object(i.a)(n.slice(e+1)))):r([].concat(Object(i.a)(n),[Object.assign({},n[e],t)]))},Ce=function(){var e=0;return n.forEach((function(t){t&&(e+=t.count||0)})),e},ke=function(){return"\n      -1px -1px 0 ".concat(Q,",\n      0 -1px 0 ").concat(Q,",\n      1px -1px 0 ").concat(Q,",\n      1px 0 0 ").concat(Q,",\n      1px 1px 0 ").concat(Q,",\n      0 1px 0 ").concat(Q,",\n      -1px 1px 0 ").concat(Q,",\n      -1px 0 0 ").concat(Q,"\n    ")},Ne=function(e){var t=e.target.value,c=e.target.id.match(/[\d]+/g);if(c){var a=parseInt(c[0]);ve(a,{name:t,count:n[a].count})}},ye=function(e){var t=e.target.value,c=parseInt(t),a=e.target.id.match(/[\d]+/g);if(a){var r=parseInt(a[0]);ve(r,{name:n[r].name,count:Number.isNaN(c)?0:c})}},Se=function(e){var t=n[e].count;ve(e,{name:n[e].name,count:t+1})},we=function(e){if(n[e]&&void 0!==n[e].count){var t=n[e].count-1;t<0&&(t=0),ve(e,{name:n[e].name,count:t})}},Te=function(e){return"".concat(e,"%")},_e=function(e){var t=e.currentTarget.id.match(/[\d]+/g);if(t){var c=Array.from(n),a=parseInt(t[0]);c[a]&&(c.splice(a,1),r(c))}};return Object(f.jsxs)("div",{className:"chart",children:[Object(f.jsx)(h.a,{open:fe,"aria-labelledby":"modal-info","aria-describedby":"modal-modal-description",onClose:function(){return ge(!fe)},children:Object(f.jsxs)("div",{className:"modal-box",children:[Object(f.jsx)("h3",{style:{marginTop:8},children:"How to add as a stream overlay"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Add a Window Capture of this browser window"}),Object(f.jsx)("li",{children:"Crop the capture down to the chart area"}),Object(f.jsx)("li",{children:"Use a chroma/colour key to make the chart background transparent"})]}),Object(f.jsx)("h3",{style:{marginTop:8},children:"How to use the chart builder"}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["Click ",Object(f.jsx)(u.a,{fontSize:"small",children:"add_circle"})," to add a new item to the chart"]}),Object(f.jsx)("li",{children:"Bars will only show on the chart if they have a name and a count"}),Object(f.jsx)("li",{children:"Bars will update in realtime when names and counts are changed"}),Object(f.jsxs)("li",{children:["To remove an item from the chart, you can either blank out the item's name or click the ",Object(f.jsx)(u.a,{fontSize:"small",children:"delete_forever"})," next to the item"]}),Object(f.jsxs)("li",{children:["To clear the chart, click ",Object(f.jsx)(u.a,{fontSize:"small",children:"layers_clear"})," at the top of the items list"]})]})]})}),Object(f.jsxs)("div",{className:"main-chart",style:{backgroundColor:y,color:E,width:Oe+"%"},children:[Object(f.jsxs)("div",{className:"graph-title-area",style:ae?{textShadow:ke()}:{},children:[Object(f.jsx)("div",{className:"graph-title",children:v}),de&&Object(f.jsxs)("div",{className:"graph-subtitle",children:[Ce()," total votes"]})]}),Object(f.jsx)("div",{className:"graph-area",style:{borderLeftColor:E,borderLeftWidth:ie?"2px":"0px",borderBottomColor:E,borderBottomWidth:ie?"2px":"0px"},children:function(){var e=Ce();return n.map((function(t,c){if(t.name&&t.count>=0){var a=(t.count||0)/e*100+"%";return Object(f.jsxs)("div",{className:"graph-item",children:[Object(f.jsxs)("div",{className:"graph-info",style:ae?{textShadow:ke()}:{},children:[t.name," ",Object(f.jsxs)("span",{className:"graph-count",children:["(",t.count,")"]})]}),Object(f.jsx)("div",{className:"graph-bar",style:{maxWidth:a,backgroundColor:A},children:"\u2003"})]},"graph-bar-".concat(c))}return""}))}()})]}),Object(f.jsxs)("div",{className:"chart-options",children:[Object(f.jsxs)("div",{className:"title-form",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(m.a,{id:"graph-title",label:"Chart Title",variant:"outlined",value:v,onChange:function(e){return function(e){var t=e.target.value;C(t)}(e)}}),Object(f.jsx)(p.a,{title:"How to use",children:Object(f.jsx)(b.a,{color:"primary",onClick:function(){return ge(!fe)},children:Object(f.jsx)(u.a,{children:"info"})})})]}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)(j.a,{control:Object(f.jsx)(x.a,{checked:ie,onChange:function(){return oe(!ie)},inputProps:{"aria-label":"controlled"}}),label:"Chart axis lines"}),Object(f.jsx)(j.a,{control:Object(f.jsx)(x.a,{checked:ae,onChange:function(){return ne(!ae)},inputProps:{"aria-label":"controlled"}}),label:"Outline on text"}),Object(f.jsx)(j.a,{control:Object(f.jsx)(x.a,{checked:de,onChange:function(){return ue(!de)},inputProps:{"aria-label":"controlled"}}),label:"Total votes"}),Object(f.jsx)(j.a,{className:"slider-label",control:Object(f.jsx)(O.a,{value:Oe,"aria-label":"Chart width",valueLabelFormat:Te,getAriaValueText:Te,valueLabelDisplay:"auto",onChange:function(e,t){"number"===typeof t&&xe(t)}}),label:"Chart width",labelPlacement:"top"})]})}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(m.a,{id:"graph-colour",label:"Bar colour",variant:"outlined",value:A,onChange:function(e){L(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle bar colour picker",children:Object(f.jsx)(b.a,{color:"primary",onClick:function(){return H(!z)},children:Object(f.jsx)(u.a,{children:z?"cancel":"palette"})})}),z&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:A,onChange:function(e){L(e)}})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(m.a,{id:"graph-text",label:"Text/axis colour",variant:"outlined",value:E,onChange:function(e){J(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle text colour picker",children:Object(f.jsx)(b.a,{color:"primary",onClick:function(){return q(!V)},children:Object(f.jsx)(u.a,{children:V?"cancel":"palette"})})}),V&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:E,onChange:function(e){J(e)}})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(m.a,{id:"graph-text",label:"Text outline colour",variant:"outlined",value:Q,onChange:function(e){X(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle text outline colour picker",children:Object(f.jsx)(b.a,{color:"primary",onClick:function(){return ee(!$)},children:Object(f.jsx)(u.a,{children:$?"cancel":"palette"})})}),$&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:Q,onChange:function(e){X(e)}})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(m.a,{id:"graph-text",label:"Chroma key colour",variant:"outlined",value:y,onChange:function(e){S(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle chroma key colour picker",children:Object(f.jsx)(b.a,{color:"primary",onClick:function(){return B(!_)},children:Object(f.jsx)(u.a,{children:_?"cancel":"palette"})})}),_&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:y,onChange:function(e){S(e)}})})]})]}),Object(f.jsxs)("div",{className:"items-form",children:[Object(f.jsxs)("h2",{children:[Object(f.jsx)("span",{children:"Chart Items"}),Object(f.jsx)(p.a,{title:"Add item",children:Object(f.jsx)(b.a,{onClick:function(){var e=n.length;ve(e,{name:"",count:0})},children:Object(f.jsx)(u.a,{children:"add_circle"})})}),Object(f.jsx)(p.a,{title:"Remove all items",children:Object(f.jsx)(b.a,{onClick:function(){r(e)},children:Object(f.jsx)(u.a,{children:"layers_clear"})})})]}),n.map((function(e,t){return Object(f.jsxs)("div",{className:"form-item",children:[Object(f.jsx)("span",{className:"graph-form-number",children:t+1}),Object(f.jsx)(m.a,{id:"graph-item-".concat(t,"-name"),label:"Name",onChange:Ne,variant:"outlined",value:n[t].name}),Object(f.jsx)(m.a,{id:"graph-item-".concat(t,"-count"),inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Count",onChange:ye,variant:"outlined",value:n[t].count}),Object(f.jsx)(p.a,{title:"Add one to count",children:Object(f.jsx)(b.a,{"aria-label":"Add one to count",id:"graph-item-".concat(t,"-add"),onClick:function(){return Se(t)},children:Object(f.jsx)(u.a,{children:"exposure_plus_1"})})}),Object(f.jsx)(p.a,{title:"Subtract one from count",children:Object(f.jsx)(b.a,{"aria-label":"Subtract one from count",id:"graph-item-".concat(t,"-sub"),onClick:function(){return we(t)},children:Object(f.jsx)(u.a,{children:"exposure_neg_1"})})}),Object(f.jsx)(p.a,{title:"Remove item",children:Object(f.jsx)(b.a,{"aria-label":"Remove item",id:"graph-item-".concat(t,"-remove"),onClick:_e,children:Object(f.jsx)(u.a,{children:"delete_forever"})})})]},"graph-item-".concat(t))}))]})]})]})}var v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,151)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,l=t.getTTFB;c(e),a(e),n(e),r(e),l(e)}))};l.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),v()}},[[90,1,2]]]);
//# sourceMappingURL=main.de626a1d.chunk.js.map