(this["webpackJsonpstream-graph-overlay"]=this["webpackJsonpstream-graph-overlay"]||[]).push([[0],{82:function(e,t,a){},83:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(29),i=a.n(r),l=(a(82),a(15)),o=a(10),s=(a(83),a(48)),j=a(145),d=a(150),b=a(149),h=a(148),u=a(143),m=a(146),O=a(147),x=a(142),p=a(141),f=a(2);function g(){var e=[],t=Object(c.useState)(e),a=Object(o.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(""),g=Object(o.a)(i,2),v=g[0],C=g[1],k=Object(c.useState)("#00ff00"),N=Object(o.a)(k,2),y=N[0],S=N[1],w=Object(c.useState)(!1),T=Object(o.a)(w,2),_=T[0],B=T[1],I=Object(c.useState)("#ff0000"),A=Object(o.a)(I,2),L=A[0],P=A[1],F=Object(c.useState)(!1),W=Object(o.a)(F,2),z=W[0],H=W[1],R=Object(c.useState)("#000000"),D=Object(o.a)(R,2),E=D[0],J=D[1],M=Object(c.useState)(!1),U=Object(o.a)(M,2),V=U[0],q=U[1],G=Object(c.useState)(!1),K=Object(o.a)(G,2),Q=K[0],X=K[1],Y=Object(c.useState)(!1),Z=Object(o.a)(Y,2),$=Z[0],ee=Z[1],te=Object(c.useState)(100),ae=Object(o.a)(te,2),ce=ae[0],ne=ae[1],re=Object(c.useState)(!1),ie=Object(o.a)(re,2),le=ie[0],oe=ie[1],se=function(e,t){n[e]?r([].concat(Object(l.a)(n.slice(0,e)),[Object.assign({},n[e],t)],Object(l.a)(n.slice(e+1)))):r([].concat(Object(l.a)(n),[Object.assign({},n[e],t)]))},je=function(){var e=0;return n.forEach((function(t){t&&(e+=t.count||0)})),e},de=function(e){var t=e.target.value,a=e.target.id.match(/[\d]+/g);if(a){var c=parseInt(a[0]);se(c,{name:t,count:n[c].count})}},be=function(e){var t=e.target.value,a=parseInt(t),c=e.target.id.match(/[\d]+/g);if(c){var r=parseInt(c[0]);se(r,{name:n[r].name,count:Number.isNaN(a)?0:a})}},he=function(e){var t=n[e].count;se(e,{name:n[e].name,count:t+1})},ue=function(e){if(n[e]&&void 0!==n[e].count){var t=n[e].count-1;t<0&&(t=0),se(e,{name:n[e].name,count:t})}},me=function(e){return"".concat(e,"%")},Oe=function(e){var t=e.currentTarget.id.match(/[\d]+/g);if(t){var a=Array.from(n),c=parseInt(t[0]);a[c]&&(a.splice(c,1),r(a))}};return Object(f.jsxs)("div",{className:"chart",children:[Object(f.jsx)(u.a,{open:le,"aria-labelledby":"modal-info","aria-describedby":"modal-modal-description",onClose:function(){return oe(!le)},children:Object(f.jsxs)("div",{className:"modal-box",children:[Object(f.jsx)("h3",{style:{marginTop:8},children:"How to add as a stream overlay"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Add a Window Capture of this browser window"}),Object(f.jsx)("li",{children:"Crop the capture down to the chart area"}),Object(f.jsx)("li",{children:"Use a chroma/colour key to make the chart background transparent"})]}),Object(f.jsx)("h3",{style:{marginTop:8},children:"How to use the chart builder"}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["Click ",Object(f.jsx)(b.a,{fontSize:"small",children:"add_circle"})," to add a new item to the chart"]}),Object(f.jsx)("li",{children:"Bars will only show on the chart if they have a name and a count"}),Object(f.jsx)("li",{children:"Bars will update in realtime when names and counts are changed"}),Object(f.jsxs)("li",{children:["To remove an item from the chart, you can either blank out the item's name or click the ",Object(f.jsx)(b.a,{fontSize:"small",children:"delete_forever"})," next to the item"]}),Object(f.jsxs)("li",{children:["To clear the chart, click ",Object(f.jsx)(b.a,{fontSize:"small",children:"layers_clear"})," at the top of the items list"]})]})]})}),Object(f.jsxs)("div",{className:"main-chart",style:{backgroundColor:y,color:E,width:ce+"%"},children:[Object(f.jsxs)("div",{style:{marginBottom:"32px"},children:[Object(f.jsx)("div",{className:"graph-title",children:v}),$&&Object(f.jsxs)("div",{className:"graph-subtitle",children:[je()," total votes"]})]}),Object(f.jsx)("div",{className:"graph-area",style:{borderLeftColor:E,borderLeftWidth:Q?"2px":"0px",borderBottomColor:E,borderBottomWidth:Q?"2px":"0px"},children:function(){var e=je();return n.map((function(t,a){if(t.name&&t.count>=0){var c=(t.count||0)/e*100+"%";return Object(f.jsxs)("div",{className:"graph-item",children:[Object(f.jsxs)("div",{className:"graph-info",children:[t.name," ",Object(f.jsxs)("span",{className:"graph-count",children:["(",t.count,")"]})]}),Object(f.jsx)("div",{className:"graph-bar",style:{maxWidth:c,backgroundColor:L},children:"\u2003"})]},"graph-bar-".concat(a))}return""}))}()})]}),Object(f.jsxs)("div",{className:"chart-options",children:[Object(f.jsxs)("div",{className:"title-form",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(x.a,{id:"graph-title",label:"Chart Title",variant:"outlined",value:v,onChange:function(e){return function(e){var t=e.target.value;C(t)}(e)}}),Object(f.jsx)(p.a,{title:"How to use",children:Object(f.jsx)(h.a,{color:"primary",onClick:function(){return oe(!le)},children:Object(f.jsx)(b.a,{children:"info"})})})]}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)(j.a,{control:Object(f.jsx)(O.a,{checked:Q,onChange:function(){return X(!Q)},inputProps:{"aria-label":"controlled"}}),label:"Chart axis lines"}),Object(f.jsx)(j.a,{control:Object(f.jsx)(O.a,{checked:$,onChange:function(){return ee(!$)},inputProps:{"aria-label":"controlled"}}),label:"Total votes"}),Object(f.jsx)(j.a,{className:"slider-label",control:Object(f.jsx)(m.a,{value:ce,"aria-label":"Chart width",valueLabelFormat:me,getAriaValueText:me,valueLabelDisplay:"auto",onChange:function(e,t){"number"===typeof t&&ne(t)}}),label:"Chart width",labelPlacement:"top"})]})}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(x.a,{id:"graph-colour",label:"Bar colour",variant:"outlined",value:L,onChange:function(e){P(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle bar colour picker",children:Object(f.jsx)(h.a,{color:"primary",onClick:function(){return H(!z)},children:Object(f.jsx)(b.a,{children:z?"cancel":"palette"})})}),z&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:L,onChange:function(e){P(e)}})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(x.a,{id:"graph-text",label:"Text/axis colour",variant:"outlined",value:E,onChange:function(e){J(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle text colour picker",children:Object(f.jsx)(h.a,{color:"primary",onClick:function(){return q(!V)},children:Object(f.jsx)(b.a,{children:V?"cancel":"palette"})})}),V&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:E,onChange:function(e){J(e)}})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)(x.a,{id:"graph-text",label:"Chroma key colour",variant:"outlined",value:y,onChange:function(e){S(e.target.value)}}),Object(f.jsx)(p.a,{title:"Toggle chroma key colour picker",children:Object(f.jsx)(h.a,{color:"primary",onClick:function(){return B(!_)},children:Object(f.jsx)(b.a,{children:_?"cancel":"palette"})})}),_&&Object(f.jsx)("div",{className:"colour-picker",children:Object(f.jsx)(s.a,{className:"picker",color:y,onChange:function(e){S(e)}})})]})]}),Object(f.jsxs)("div",{className:"items-form",children:[Object(f.jsxs)("h2",{children:[Object(f.jsx)("span",{children:"Chart Items"}),Object(f.jsx)(p.a,{title:"Add item",children:Object(f.jsx)(h.a,{onClick:function(){var e=n.length;se(e,{name:"",count:0})},children:Object(f.jsx)(b.a,{children:"add_circle"})})}),Object(f.jsx)(p.a,{title:"Remove all items",children:Object(f.jsx)(h.a,{onClick:function(){r(e)},children:Object(f.jsx)(b.a,{children:"layers_clear"})})})]}),n.map((function(e,t){return Object(f.jsxs)("div",{className:"form-item",children:[Object(f.jsx)("span",{className:"graph-form-number",children:t+1}),Object(f.jsx)(x.a,{id:"graph-item-".concat(t,"-name"),label:"Name",onChange:de,variant:"outlined",value:n[t].name}),Object(f.jsx)(x.a,{id:"graph-item-".concat(t,"-count"),inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Count",onChange:be,variant:"outlined",value:n[t].count}),Object(f.jsx)(p.a,{title:"Add one to count",children:Object(f.jsx)(h.a,{"aria-label":"Add one to count",id:"graph-item-".concat(t,"-add"),onClick:function(){return he(t)},children:Object(f.jsx)(b.a,{children:"exposure_plus_1"})})}),Object(f.jsx)(p.a,{title:"Subtract one from count",children:Object(f.jsx)(h.a,{"aria-label":"Subtract one from count",id:"graph-item-".concat(t,"-sub"),onClick:function(){return ue(t)},children:Object(f.jsx)(b.a,{children:"exposure_neg_1"})})}),Object(f.jsx)(p.a,{title:"Remove item",children:Object(f.jsx)(h.a,{"aria-label":"Remove item",id:"graph-item-".concat(t,"-remove"),onClick:Oe,children:Object(f.jsx)(b.a,{children:"delete_forever"})})})]},"graph-item-".concat(t))}))]})]})]})}var v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,151)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),v()}},[[90,1,2]]]);
//# sourceMappingURL=main.fb98f16c.chunk.js.map